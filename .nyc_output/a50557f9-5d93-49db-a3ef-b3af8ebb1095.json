{"/home/viana/EuDev/get-it-voll-solutions/get-it-2.0/get-it-controle-de-pontos-backend/src/services/User.ts":{"path":"/home/viana/EuDev/get-it-voll-solutions/get-it-2.0/get-it-controle-de-pontos-backend/src/services/User.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":46}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":51}},"3":{"start":{"line":7,"column":23},"end":{"line":7,"column":63}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":90}},"5":{"start":{"line":11,"column":21},"end":{"line":11,"column":55}},"6":{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":25}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":41}},"10":{"start":{"line":20,"column":29},"end":{"line":20,"column":51}},"11":{"start":{"line":21,"column":8},"end":{"line":22,"column":25}},"12":{"start":{"line":22,"column":12},"end":{"line":22,"column":25}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":68}},"14":{"start":{"line":24,"column":28},"end":{"line":24,"column":50}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":27}},"16":{"start":{"line":28,"column":29},"end":{"line":28,"column":51}},"17":{"start":{"line":29,"column":8},"end":{"line":30,"column":25}},"18":{"start":{"line":30,"column":12},"end":{"line":30,"column":25}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":57}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":28}},"21":{"start":{"line":35,"column":0},"end":{"line":35,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":26},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":22},"end":{"line":15,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":19},"end":{"line":18,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":29},"end":{"line":26,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":21},"end":{"line":33,"column":5}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":89}},"type":"cond-expr","locations":[{"start":{"line":8,"column":32},"end":{"line":8,"column":63}},{"start":{"line":8,"column":66},"end":{"line":8,"column":89}}],"line":8},"1":{"loc":{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":13,"column":25}},{"start":{"line":12,"column":8},"end":{"line":13,"column":25}}],"line":12},"2":{"loc":{"start":{"line":21,"column":8},"end":{"line":22,"column":25}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":22,"column":25}},{"start":{"line":21,"column":8},"end":{"line":22,"column":25}}],"line":21},"3":{"loc":{"start":{"line":29,"column":8},"end":{"line":30,"column":25}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":30,"column":25}},{"start":{"line":29,"column":8},"end":{"line":30,"column":25}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":7,"6":7,"7":2,"8":5,"9":1,"10":2,"11":2,"12":1,"13":1,"14":1,"15":1,"16":2,"17":2,"18":1,"19":1,"20":1,"21":1},"f":{"0":2,"1":7,"2":1,"3":2,"4":2},"b":{"0":[1,1],"1":[2,5],"2":[1,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/home/viana/EuDev/get-it-voll-solutions/get-it-2.0/get-it-controle-de-pontos-backend/src/services/User.ts","sources":["/home/viana/EuDev/get-it-voll-solutions/get-it-2.0/get-it-controle-de-pontos-backend/src/services/User.ts"],"names":[],"mappings":";;AAAA,+CAA2D;AAE3D,oDAA6C;AAE7C,MAAqB,WAAW;IAC9B,KAAK,CAAC,MAAM,CAAC,OAAc;QACzB,MAAM,MAAM,GAAG,qBAAa,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAEhD,OAAO,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,eAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAA;IACzE,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACtB,MAAM,IAAI,GAAG,MAAM,eAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,MAAM;QACV,OAAO,eAAK,CAAC,OAAO,EAAE,CAAA;IACxB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,MAAc;QACrC,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAE5C,IAAI,CAAC,YAAY;YAAE,OAAO,KAAK,CAAC;QAEhC,MAAM,eAAK,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAElD,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAE3C,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU;QACrB,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAE5C,IAAI,CAAC,YAAY;YAAE,OAAO,KAAK,CAAC;QAEhC,MAAM,eAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAEvC,OAAO,YAAY,CAAC;IACtB,CAAC;CACF;AAtCD,8BAsCC","sourcesContent":["import IUser, { userZodSchema } from '../interfaces/IUser';\nimport IService, { ServiceError } from '../interfaces/IService';\nimport Users from '../database/models/Users';\n\nexport default class UserService implements IService<IUser> {\n  async create(newUser: IUser): Promise<IUser | ServiceError> {\n    const parsed = userZodSchema.safeParse(newUser);\n\n    return parsed.success ? Users.create(newUser) : { error: parsed.error }\n  }\n\n  async getById(id: number): Promise<IUser | boolean> {\n    const user = await Users.findByPk(id);\n    if (!user) return false;\n    return user;\n  }\n\n  async getAll(): Promise<IUser[]> {\n    return Users.findAll()\n  }\n\n  async update(id: number, points: number): Promise<IUser | boolean> {\n    const userToUpdate = await this.getById(id);\n\n    if (!userToUpdate) return false;\n\n    await Users.update({ points }, { where: { id } });\n\n    const userUpdated = await this.getById(id);\n\n    return userUpdated;\n  }\n\n  async delete(id: number): Promise<IUser | boolean> {\n    const userToDelete = await this.getById(id);\n\n    if (!userToDelete) return false;\n\n    await Users.destroy({ where: { id } });\n\n    return userToDelete;\n  }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"72dbe0ddf3046eda07ec9c21791db2fdb1461a76"}}